
---

# **SubScript++ Документация**

**Девиз языка:** *"Всё есть sub!"*
Все функции и объекты начинаются с префикса `sub.`. Переменные обычные называются через `v` (например, `v.i`), списки и объекты тоже хранятся в `v`.

---

## **1. Переменные**

* Все переменные создаются через `v`, например:

```sub
v.name = "Иван";
v.age = 25;
```

* Доступ к переменной через `v.name`, `v.age`.

---

## **2. Логирование**

```sub
sub.log("Текст для вывода");
sub.log("Переменная: " + v.name);
```

* Выводит текст в терминал SubScript++.

---

## **3. Списки**

Создание списка:

```sub
sub.list("nums", [1, 2, 3]);
```

Функции для работы со списками:

| Функция                            | Описание                                      |
| ---------------------------------- | --------------------------------------------- |
| `sub.get("имя", индекс)`           | Получить элемент списка по индексу            |
| `sub.add("имя", значение)`         | Добавить элемент в список                     |
| `sub.remove("имя", индекс)`        | Удалить элемент по индексу                    |
| `sub.size("имя")`                  | Количество элементов                          |
| `sub.clear("имя")`                 | Очистить список                               |
| `sub.contains("имя", значение)`    | Проверка на наличие элемента                  |
| `sub.removeValue("имя", значение)` | Удалить элемент по значению                   |
| `sub.range(старт, конец)`          | Создать массив от старт до конец включительно |

**Пример:**

```sub
sub.list("nums", [1,2,3]);
sub.add("nums", 4);
sub.log("Размер списка: " + sub.size("nums")); // 4
sub.log("Элемент 2: " + sub.get("nums", 1));  // 2
```

---

## **4. Потоки (управляющие конструкции)**

### 4.1 `sub.if(condition, callback)`

```sub
sub.if(v.age > 18, () => {
    sub.log("Взрослый");
});
```

### 4.2 `sub.while(conditionFunction, callback)`

```sub
v.i = 0;
sub.while(() => v.i < 5, () => {
    sub.log("Итерация " + v.i);
    v.i++;
});
```

### 4.3 `sub.loop(count, callback)`

```sub
sub.loop(3, () => {
    sub.log("Цикл " + v.i);
});
```

* Внутри цикла доступна переменная `v.i` (текущий индекс от 0 до count-1).

---

## **5. Ввод данных**

```sub
sub.input("Введите имя:") -> v.name;
sub.log("Привет, " + v.name);
```

* `sub.input(prompt)` возвращает Promise, поэтому можно использовать `await` или `->` для переменной.

---

## **6. События**

### 6.1 `sub.onKey(callback)`

```sub
sub.onKey((key) => {
    sub.log("Нажата клавиша: " + key);
});
```

* Параметр `key` — символ или стрелка (`ArrowUp`, `Enter` и т.д.).

### 6.2 `sub.onTouch(callback)`

```sub
sub.onTouch((x, y, type) => {
    sub.log("Тап: " + x + ", " + y + " (тип: " + type + ")");
});
```

* `x`, `y` — координаты касания на canvas
* `type` — `"start"`, `"move"`, `"end"`

---

## **7. 2D графика**

### 7.1 `sub.spawn(name, x, y, width, height, color)`

Создаёт объект на canvas:

```sub
v.player = sub.spawn("Player", 50, 50, 50, 50, "#00ff00");
```

### 7.2 `sub.setPosition(obj, x, y)`

Перемещает объект:

```sub
sub.setPosition(v.player, 100, 100);
```

### 7.3 `sub.destroy(obj)`

Удаляет объект:

```sub
sub.destroy(v.player);
```

### 7.4 `sub.render()` или автоматически

* Все объекты отрисовываются на canvas автоматически после создания/перемещения.

---

## **8. Полезные функции**

| Функция                | Описание                        |
| ---------------------- | ------------------------------- |
| `sub.random(min, max)` | Случайное число между min и max |
| `sub.sleep(ms)`        | Пауза в миллисекундах (Promise) |
| `sub.clearConsole()`   | Очистить терминал               |

---

## **9. Примеры использования**

### Пример 1: Список и цикл

```sub
sub.list("nums",[1,2,3,4,5]);

v.i=0;
sub.while(()=>v.i<sub.size("nums"),()=>{
    sub.log("Элемент: "+sub.get("nums",v.i));
    v.i++;
});
```

### Пример 2: 2D квадрат с клавишами

```sub
v.player = sub.spawn("Player",50,50,50,50,"#00ff00");

sub.onKey((key)=>{
    if(key=="ArrowUp") sub.setPosition(v.player, v.player.x, v.player.y-5);
    if(key=="ArrowDown") sub.setPosition(v.player, v.player.x, v.player.y+5);
});
```

### Пример 3: Ввод и лог

```sub
sub.input("Как тебя зовут:") -> v.name;
sub.log("Привет, " + v.name);
```

---

## **10. Принципы**

* **Всё есть sub** — каждая функция начинается с `sub.`
* **Переменные через `v`** — нет глобальных переменных без префикса
* **Списки и объекты** хранятся в `v`
* **Асинхронный ввод** через `sub.input`

---
